function dragMoveListener(t){var e=t.target.parentElement,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,t=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.classList.contains("window-maximized")||(e.style.webkitTransform=e.style.transform="translate("+n+"px, "+t+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",t))}function updateWindowStack(){window.windowManager.forEach((t,e)=>{document.getElementById(t).style.zIndex=e+300})}window.windowManager||(window.windowManager=[]),module.exports={newWindow:function(t,e,n,i){let d=document.createElement("div");return d.id="window-"+Math.random().toString().replace(".",""),d.innerHTML=`
        <div class="window-header"><span>${t}</span>
            <div class="buttons">
                <span onclick="require('./utils/window.js').toggleMaximized('${d.id}')" class="codicon codicon-chrome-restore"></span>
                <span onclick="require('./utils/window.js').killWindow('${d.id}')" class="codicon codicon-close"></span>
            </div>
        </div>
        <div class="window-content">${e}</div>
        `,d.classList.add("window-window"),d.style.height=i||"fit-content",d.style.width=n||"fit-content",document.getElementById("window-container").appendChild(d),window.windowManager.push(d.id),interact("#"+d.id).resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{move(t){var e,n,i=t.target;i.classList.contains("window-maximized")||(e=parseFloat(i.getAttribute("data-x"))||0,n=parseFloat(i.getAttribute("data-y"))||0,i.style.width=t.rect.width+"px",i.style.height=t.rect.height+"px",e+=t.deltaRect.left,n+=t.deltaRect.top,i.style.transform="translate("+e+"px,"+n+"px)",i.setAttribute("data-x",e),i.setAttribute("data-y",n))}}}),interact("#"+d.id+" .window-header").draggable({listeners:{move:dragMoveListener}}),d.addEventListener("mousedown",function(){var t=window.windowManager.findIndex(t=>t===d.id);window.windowManager.splice(t,1),window.windowManager.push(d.id),updateWindowStack()}),updateWindowStack(),d.id},killWindow:function(e){let t=document.getElementById(e);t.parentElement.removeChild(t);var n=window.windowManager.findIndex(t=>t===e);window.windowManager.splice(n,1),updateWindowStack()},toggleMaximized:function(t){let e=document.getElementById(t);e.classList.add("transitioning"),e.classList.toggle("window-maximized"),setTimeout(function(){e.classList.remove("transitioning")},500)},updateWindow:function(t,e,n){let i=document.getElementById(t);n&&(i.querySelector(".window-header span").innerHTML=n),e&&(i.querySelector(".window-content").innerHTML=e)}};